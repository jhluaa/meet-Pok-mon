app:
  description: ç”¨è‡ªç„¶è¯­è¨€æé—®ï¼Œè·å¾—å®æ—¶æŸ¥è¯¢ç»“æœå’Œåˆ†ææŠ¥å‘Š
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: å®å¯æ¢¦dify
  use_icon_as_answer_icon: false
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: llm
        targetType: end
      id: 1722868180264-source-1722834612833-target
      selected: false
      source: '1722868180264'
      sourceHandle: source
      target: '1722834612833'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 1724233823809-source-1722868180264-target
      selected: false
      source: '1724233823809'
      sourceHandle: source
      target: '1722868180264'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: start
        targetType: code
      id: 1722834384302-source-1724233823809-target
      source: '1722834384302'
      sourceHandle: source
      target: '1724233823809'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: æŸ¥è¯¢é—®é¢˜
          max_length: 256
          options: []
          required: true
          type: text-input
          variable: question
      height: 90
      id: '1722834384302'
      position:
        x: -1141.8236062604233
        y: -356.5568495024244
      positionAbsolute:
        x: -1141.8236062604233
        y: -356.5568495024244
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1722868180264'
          - text
          variable: text
        selected: false
        title: ç»“æŸ
        type: end
      height: 90
      id: '1722834612833'
      position:
        x: 23.292127619741507
        y: -372.21253220766187
      positionAbsolute:
        x: 23.292127619741507
        y: -372.21253220766187
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            keep_alive: 24h
            max_tokens: 4095
            seed: 116
          mode: chat
          name: glm-4-plus
          provider: zhipuai
        prompt_template:
        - id: 547cfa38-27a3-49df-a92e-d5d4ddad847f
          role: system
          text: 'ä½ æ˜¯å®å¯æ¢¦é—®ç­”é¢†åŸŸçš„æ•°æ®åˆ†æä¸“å®¶ã€‚åˆ†æJSONæ ¼å¼çš„CypheræŸ¥è¯¢ç»“æœï¼Œå›ç­”ç”¨æˆ·é—®é¢˜ã€‚


            å…³é”®è§„åˆ™ï¼š

            1. æ‰€æœ‰æ•°æ®å·²ç¬¦åˆç”¨æˆ·é—®é¢˜ä¸­çš„æ¡ä»¶ï¼ˆå¦‚äº§å“ç±»å‹ã€æ—¥æœŸèŒƒå›´ï¼‰

            2. ç›´æ¥ä½¿ç”¨æä¾›çš„æ•°æ®åˆ†æï¼Œä¸è´¨ç–‘æ•°æ®æ˜¯å¦ç¬¦åˆæ¡ä»¶

            3. ä¸éœ€å†æ¬¡ç­›é€‰æˆ–ç¡®è®¤æ•°æ®ç±»åˆ«/æ—¶é—´èŒƒå›´

            4. æ•°æ®ä¸º[]æˆ–ç©ºæ—¶ï¼Œå›å¤"æ²¡æœ‰æŸ¥è¯¢åˆ°ç›¸å…³æ•°æ®"ï¼Œä¸å¾—ç¼–é€ æ•°æ®'
        - id: 0f6e42cd-f64e-438b-a0d3-de721b8327a6
          role: user
          text: 'æ•°æ®æ˜¯:{{#1724233823809.result#}}

            é—®é¢˜æ˜¯:{{#1722834384302.question#}}


            å›ç­”è¦æ±‚ï¼š

            1. åˆ—å‡ºè¯¦ç»†æ•°æ®,ä¼˜å…ˆä»¥è¡¨æ ¼æ–¹å¼åˆ—å‡ºæ•°æ®ï¼Œ éœ€è¦åˆ—å‡ºå…¨éƒ¨è®°å½•

            2.å½“æœ‰è®°å½•è¢«çœç•¥æ—¶ï¼Œå¿…é¡»ä½œå‡ºè¯´æ˜

            3. å¯¹æ•°æ®è¿›è¡Œæ¦‚è§ˆå’Œæ€»ç»“ï¼Œå¿…é¡»åŒ…æ‹¬åŸå§‹æ•°æ®çš„æ€»è®°å½•æ•°

            4. è¯†åˆ«è¶‹åŠ¿ã€å¼‚å¸¸ï¼Œå¹¶æä¾›åˆ†æå’Œå»ºè®®


            æ•°æ®å¤„ç†ï¼š

            - é¢ç§¯ã€äº§é‡å•ä½ï¼šå¹³æ–¹ç±³ï¼Œä¿ç•™æ•´æ•°

            - ä½¿ç”¨é€—å·è®¡æ•°æ³•ï¼š1,234,567

            - å…¶ä»–æ•°å€¼ä¿ç•™2ä½å°æ•°

            - å¯¹äºæ¯”ä¾‹ã€å æ¯”ä»¥åŠå«ä¹‰ç±»ä¼¼çš„å­—æ®µï¼Œæ˜¾ç¤ºä¸ºç™¾åˆ†æ¯”ï¼Œä¾‹å¦‚ï¼šå°†0.1236æ˜¾ç¤ºä¸º12.36%ï¼Œä¿ç•™ä¸¤ä½å°æ•°

            - æ—¥æœŸçš„æ˜¾ç¤ºæ ¼å¼ä¸ºï¼šYYYY-MM-DDï¼Œä¾‹å¦‚ï¼š2024-08-01

            - ç¡®ä¿ä½¿ç”¨äº†æ­£ç¡®çš„markdownè¯­æ³•ï¼Œç‰¹åˆ«æ˜¯æ ‡é¢˜å’Œè¡¨æ ¼


            æ³¨æ„ï¼š

            - ä¸è¦è¾“å‡ºä¸­é—´çš„åˆ†æè¿‡ç¨‹å’Œè®¡ç®—æ–¹æ³•,åªéœ€è¦æŒ‰è¦æ±‚è¾“å‡ºç»“æœå³å¯

            - æ•°æ®ä¸º[]æˆ–ç©ºæ—¶ï¼Œå›å¤"æ²¡æœ‰æŸ¥è¯¢åˆ°ç›¸å…³æ•°æ®"

            - è®°ä½ï¼šæ‰€æœ‰æ•°æ®éƒ½ç¬¦åˆç”¨æˆ·é—®é¢˜æ¡ä»¶ï¼Œç›´æ¥åˆ†ææä¾›çš„æ•°æ®ã€‚

            - è®¤çœŸæ£€æŸ¥æ˜¯å¦æŒ‰ç…§è¦æ±‚çš„æ ¼å¼æ­£ç¡®æ˜¾ç¤ºäº†æ•°æ®

            - ç”¨ä¸­æ–‡å›ç­”é—®é¢˜'
        selected: false
        title: ç»“æœåˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1722868180264'
      position:
        x: -398.2693026427766
        y: -372.21253220766187
      positionAbsolute:
        x: -398.2693026427766
        y: -372.21253220766187
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import urllib.request\nimport json\n\ndef main(question: str) -> dict:\n\
          \    # Flask æœåŠ¡ç«¯ç‚¹\n    api_url = \"http://192.168.1.9:5203/execute_query\"\
          \n\n    # è¯·æ±‚ä½“\n    payload = {\n        \"question\": question  # å‘é€é—®å¥å­—ç¬¦ä¸²è€Œé\
          \ Cypher æŸ¥è¯¢è¯­å¥\n    }\n\n    # å°†è¯·æ±‚ä½“è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²\n    data = json.dumps(payload).encode('utf-8')\n\
          \n    # åˆ›å»ºè¯·æ±‚å¯¹è±¡\n    req = urllib.request.Request(api_url, data=data, headers={\"\
          Content-Type\": \"application/json\"})\n\n    try:\n        # å‘é€è¯·æ±‚å¹¶è·å–å“åº”\n\
          \        with urllib.request.urlopen(req) as response:\n            # è¯»å–å¹¶è§£ç å“åº”\n\
          \            result_data = json.loads(response.read().decode('utf-8'))\n\
          \            # å°†ç»“æœè½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼\n            result_str = json.dumps(result_data,\
          \ ensure_ascii=False)  # ç¡®ä¿ä¸­æ–‡å­—ç¬¦æ­£å¸¸æ˜¾ç¤º\n            return {'result': result_str}\
          \  # è¿”å›å­—ç¬¦ä¸²ç±»å‹çš„ç»“æœ\n    except Exception as e:\n        raise Exception(f\"\
          Error: {str(e)}\")\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ‰§è¡ŒæŸ¥è¯¢
        type: code
        variables:
        - value_selector:
          - '1722834384302'
          - question
          variable: question
      height: 54
      id: '1724233823809'
      position:
        x: -770.226793663037
        y: -342.453759358466
      positionAbsolute:
        x: -770.226793663037
        y: -342.453759358466
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 1009.5828127670399
      y: 472.11182201495683
      zoom: 0.5672515681555873
